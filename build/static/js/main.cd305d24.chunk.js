(this["webpackJsonpreact-firebase-blog-starter"]=this["webpackJsonpreact-firebase-blog-starter"]||[]).push([[0],{26:function(e,t,a){e.exports=a(44)},31:function(e,t,a){},32:function(e,t,a){},33:function(e,t,a){},41:function(e,t,a){},42:function(e,t,a){},43:function(e,t,a){},44:function(e,t,a){"use strict";a.r(t);var n,r=a(0),c=a.n(r),l=a(22),o=a.n(l),m=(a(31),a(4)),s=a(7),i=(a(32),a(33),function(){return c.a.createElement("header",{className:"header"},c.a.createElement("h1",{className:"site-title"},c.a.createElement(m.b,{to:"/"},"Over-easy")),c.a.createElement("nav",{className:"menu"},c.a.createElement(m.b,{to:"/"},"About"),c.a.createElement(m.b,{to:"/"},"Contact")))}),u=a(6),d=a(11),f=a.n(d),b=(a(38),{apiKey:"AIzaSyAlOmlhjOCg8CnaujQdmsdvs9GaQNh0Q5A",authDomain:"react-firebase-blog-55a8f.firebaseapp.com",databaseURL:"https://react-firebase-blog-55a8f.firebaseio.com",projectId:"react-firebase-blog-55a8f",storageBucket:"react-firebase-blog-55a8f.appspot.com",messagingSenderId:"1038489350270",appId:"1:1038489350270:web:a0f4c3ce1a360b2199e82f"}),g=function(){return n||(f.a.initializeApp(b),n=f.a,f.a)},p=(a(41),function(e){return c.a.createElement(c.a.Fragment,null,c.a.createElement("article",{key:e.data.slug,className:"card"},c.a.createElement("img",{src:e.data.coverImage,alt:e.data.coverImageAlt}),c.a.createElement("div",{className:"card-content"},c.a.createElement("h2",null,e.data.title," \u2014"," ",c.a.createElement("span",{style:{color:"#5e5e5e"}},e.data.datePretty)),c.a.createElement("p",{dangerouslySetInnerHTML:{__html:"".concat(e.data.content.substring(0,100),"...")}}),c.a.createElement(m.b,{className:"button read-more",to:"/".concat(e.data.slug)},"Read more"))))}),E=(a(42),function(e){return c.a.createElement("header",{className:"section-header"},c.a.createElement("h1",null,e.title),e.desc?c.a.createElement("p",null,e.desc):"")}),h=function(){var e=Object(r.useState)(!0),t=Object(u.a)(e,2),a=t[0],n=t[1],l=Object(r.useState)([]),o=Object(u.a)(l,2),m=o[0],s=o[1];return a&&!m.length&&g().database().ref("/posts").orderByChild("date").once("value").then((function(e){var t=[],a=e.val();for(var r in a)t.push(a[r]);t.reverse(),s(t),n(!1)})),a?c.a.createElement("h1",null,"Loading..."):c.a.createElement(c.a.Fragment,null,c.a.createElement(E,{title:"Blog",desc:"Check out some of the latest recipes."}),c.a.createElement("section",{className:"cards"},m.map((function(e,t){return c.a.createElement(p,{key:t,data:e})}))))},v=function(e){var t=e.match.params.slug;return-1===["my-first-blog-post","my-second-blog-post"].indexOf(t)?c.a.createElement(s.a,{to:"/404"}):c.a.createElement(c.a.Fragment,null,c.a.createElement("h1",null,"This is a template for blog posts."),c.a.createElement("p",null,"We'll get to this once we've hooked up Firebase!"))},y=a(25),O=(a(43),function(e){return c.a.createElement("form",{className:e.type,onSubmit:e.onSubmit},e.children)});function j(){var e=Object(y.a)(["0",""]);return j=function(){return e},e}var S=function(){var e=Object(r.useState)(""),t=Object(u.a)(e,2),a=t[0],n=t[1],l=Object(r.useState)(""),o=Object(u.a)(l,2),m=o[0],s=o[1],i=Object(r.useState)(""),d=Object(u.a)(i,2),f=d[0],b=d[1],p=Object(r.useState)(""),h=Object(u.a)(p,2),v=h[0],y=h[1],S=Object(r.useState)(""),N=Object(u.a)(S,2),C=N[0],F=N[1];return c.a.createElement(c.a.Fragment,null,c.a.createElement("section",{className:"page-content"},c.a.createElement(E,{title:"Create Post"}),c.a.createElement(O,{type:"create-post",onSubmit:function(e){e.preventDefault();var t=function(){var e=new Date,t=e.getFullYear(),a=e.getMonth()+1;a<10&&(a="0".concat(a));var n=e.getDate();return n<10&&n(j(),n),{formatted:"".concat(a,"/").concat(n,"/").concat(t),pretty:e.toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"})}}(),n={title:a,date:t.pretty,slug:m,coverImage:f,coverImageAlt:v,content:C};console.log("new post",n),g().database().ref().child("posts/".concat(m)).set(n).then((function(e){return console.log("post added")})),document.querySelector("Form").reset()}},c.a.createElement("div",{className:"form-field"},c.a.createElement("label",{htmlFor:"title"},"Title"),c.a.createElement("input",{id:"title",type:"text",value:a,onChange:function(e){var t=e.target.value;n(t)}})),c.a.createElement("div",{className:"form-field"},c.a.createElement("label",{htmlFor:"slug"},"Slug"),c.a.createElement("input",{id:"slug",type:"text",value:m,onChange:function(e){var t=e.target.value;s(t)}})),c.a.createElement("div",{className:"form-field"},c.a.createElement("label",{htmlFor:"cover"},"Cover image"),c.a.createElement("input",{id:"cover",type:"text",value:f,onChange:function(e){var t=e.target.value;b(t)}})),c.a.createElement("div",{className:"form-field"},c.a.createElement("label",{htmlFor:"alt"},"Alternative text"),c.a.createElement("input",{id:"alt",type:"text",value:v,onChange:function(e){var t=e.target.value;y(t)}})),c.a.createElement("div",{className:"form-field"},c.a.createElement("label",{htmlFor:"content"},"Content"),c.a.createElement("textarea",{id:"content",type:"text",value:C,onChange:function(e){var t=e.target.value;F(t)}})),c.a.createElement("button",{type:"submit"},"Create"))))},N=function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement("h1",null,"Hmmm... can't seem to find that page."),c.a.createElement(m.b,{to:"/"},"Take me home"))};var C=function(){return c.a.createElement(m.a,null,c.a.createElement(i,null),c.a.createElement("main",null,c.a.createElement(s.d,null,c.a.createElement(s.b,{exact:!0,path:"/",component:h}),c.a.createElement(s.b,{path:"/create",component:S}),c.a.createElement(s.b,{path:"/404",component:N}),c.a.createElement(s.b,{path:"/:slug",component:v}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(c.a.createElement(C,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[26,1,2]]]);
//# sourceMappingURL=main.cd305d24.chunk.js.map